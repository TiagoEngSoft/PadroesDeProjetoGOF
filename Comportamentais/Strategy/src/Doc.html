<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <title>PadrÃ£o Strategy â€” EstratÃ©gias de Desconto</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #fafafa;
            color: #333;
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }

        header {
            background: #607D8B;
            color: white;
            padding: 20px;
            text-align: center;
        }

        main {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }

        h2 {
            color: #607D8B;
            margin-top: 40px;
        }

        .box {
            background: #f1f1f1;
            border-left: 6px solid #607D8B;
            padding: 15px;
            margin: 20px 0;
        }

        pre {
            background: #272822;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 5px;
            overflow-x: auto;
        }

        code {
            font-family: monospace;
        }

        ul {
            padding-left: 20px;
        }

        footer {
            background: #eee;
            padding: 20px;
            text-align: center;
            margin-top: 40px;
        }
    </style>
</head>

<body>

    <header>
        <h1>ğŸ¯ PadrÃ£o de Projeto: Strategy</h1>
        <p>Troca dinÃ¢mica de algoritmo (ou â€œestratÃ©giaâ€) para resolver um problema</p>
    </header>

    <main>
        <h2>âœ… DefiniÃ§Ã£o formal do padrÃ£o Strategy (GOF)</h2>
        <div class="box">
            O padrÃ£o <strong>Strategy</strong> define uma famÃ­lia de algoritmos (estratÃ©gias),
            encapsula cada um deles e os torna intercambiÃ¡veis.
            Strategy permite que algoritmos variem independentemente dos clientes que os utilizam.
        </div>

        <h2>ğŸ¤” ExplicaÃ§Ã£o simples</h2>
        <div class="box">
            Imagine uma loja online. Para cada cliente, vocÃª pode aplicar diferentes tipos de desconto:
            <ul>
                <li>Sem desconto</li>
                <li>Desconto fixo de 10%</li>
                <li>Desconto fixo de 25%</li>
            </ul>
            Em vez de usar `if` ou `switch` para cada tipo de desconto no pedido, vocÃª seta uma â€œestratÃ©gia de descontoâ€
            e o pedido usa essa estratÃ©gia para calcular o valor final. Isso torna o cÃ³digo flexÃ­vel e extensÃ­vel.
        </div>

        <h2>ğŸ’¡ Nosso Exemplo: EstratÃ©gias de Desconto</h2>
        <ul>
            <li><strong>DescontoStrategy:</strong> interface comum para todas as estratÃ©gias</li>
            <li><strong>DescontoFixo:</strong> aplica um percentual fixo de desconto</li>
            <li><strong>SemDesconto:</strong> nÃ£o aplica desconto (estratÃ©gia padrÃ£o)</li>
            <li><strong>Pedido:</strong> classe que contÃ©m um preÃ§o e uma estratÃ©gia de desconto</li>
            <li><strong>Main:</strong> uso prÃ¡tico trocando estratÃ©gias</li>
        </ul>

        <h2>ğŸ“¦ Estrutura do Projeto</h2>
        <pre><code>
src/
â”œâ”€â”€ strategy/
â”‚   â”œâ”€â”€ DescontoStrategy.java
â”‚   â”œâ”€â”€ DescontoFixo.java
â”‚   â”œâ”€â”€ SemDesconto.java
â”‚   â””â”€â”€ Pedido.java
â””â”€â”€ Main.java
        </code></pre>

        <h2>ğŸ§ª CÃ³digo Exemplo</h2>

        <h3>DescontoStrategy.java</h3>
        <pre><code>package strategy;

public interface DescontoStrategy {
    double calcular(double precoOriginal);
}</code></pre>

        <h3>DescontoFixo.java</h3>
        <pre><code>package strategy;

public class DescontoFixo implements DescontoStrategy {
    private double percentual;

    public DescontoFixo(double percentual) {
        this.percentual = percentual;
    }

    @Override
    public double calcular(double precoOriginal) {
        return precoOriginal * (1 - percentual);
    }
}</code></pre>

        <h3>SemDesconto.java</h3>
        <pre><code>package strategy;

public class SemDesconto implements DescontoStrategy {
    @Override
    public double calcular(double precoOriginal) {
        return precoOriginal;
    }
}</code></pre>

        <h3>Pedido.java</h3>
        <pre><code>package strategy;

public class Pedido {
    private double precoOriginal;
    private DescontoStrategy estrategia;

    public Pedido(double precoOriginal, DescontoStrategy estrategia) {
        this.precoOriginal = precoOriginal;
        this.estrategia = estrategia;
    }

    public double getPrecoFinal() {
        return estrategia.calcular(precoOriginal);
    }

    public void setEstrategia(DescontoStrategy novaEstrategia) {
        this.estrategia = novaEstrategia;
    }
}</code></pre>

        <h3>Main.java</h3>
        <pre><code>import strategy.*;

public class Main {
    public static void main(String[] args) {
        Pedido pedido = new Pedido(100.0, new SemDesconto());

        System.out.println("ğŸ§¾ PreÃ§o original: R$100.00");
        System.out.println("ğŸ”¸ Sem desconto: R$" + pedido.getPrecoFinal());

        pedido.setEstrategia(new DescontoFixo(0.1));
        System.out.println("ğŸ”¸ Desconto de 10%: R$" + pedido.getPrecoFinal());

        pedido.setEstrategia(new DescontoFixo(0.25));
        System.out.println("ğŸ”¸ Desconto de 25%: R$" + pedido.getPrecoFinal());
    }
}</code></pre>

        <h2>ğŸ§  Explicando o CÃ³digo Passo a Passo</h2>
        <div class="box">
            <p>Agora vamos dissecar cada parte do cÃ³digo para vocÃª **entender exatamente o que acontece**:</p>

            <ul>
                <li>
                    <strong>ğŸ” DescontoStrategy (interface):</strong><br>
                    Essa interface define o mÃ©todo que toda estratÃ©gia de desconto deve implementar:
                    <code>double calcular(double precoOriginal)</code>.<br>
                    Isso garante que qualquer classe que implemente **DescontoStrategy** poderÃ¡ ser usada de forma
                    intercambiÃ¡vel.
                </li>
                <br>
                <li>
                    <strong>ğŸ’µ DescontoFixo:</strong><br>
                    - Recebe um valor `percentual` no construtor (por exemplo, 0,10 para 10%).<br>
                    - No mÃ©todo `calcular()`, ele aplica: `preÃ§oOriginal * (1 - percentual)`.<br>
                    Ou seja, se o percentual for 0,10 (10%), ele retorna 90% do valor original.<br>
                    Isso representa uma lÃ³gica de desconto fixa configurÃ¡vel.
                </li>
                <br>
                <li>
                    <strong>ğŸš« SemDesconto:</strong><br>
                    - Esta estratÃ©gia nÃ£o aplica desconto algum.<br>
                    - O mÃ©todo `calcular()` simplesmente retorna `precoOriginal`.<br>
                    Ã‰ Ãºtil como estratÃ©gia padrÃ£o ou â€œfallbackâ€ quando nenhum desconto deve ser aplicado.
                </li>
                <br>
                <li>
                    <strong>ğŸ›’ Pedido:</strong><br>
                    Essa classe representa o cliente (o â€œcontextoâ€) que usa uma estratÃ©gia de desconto.<br>
                    - **atributos**:
                    <ul>
                        <li><code>precoOriginal</code>: o valor sem desconto</li>
                        <li><code>estrategia</code>: a estratÃ©gia atual aplicada</li>
                    </ul>
                    - **mÃ©todo `getPrecoFinal()`:** delega para a estratÃ©gia atual fazer o cÃ¡lculo.<br>
                    - **mÃ©todo `setEstrategia(...)`:** permite trocar a estratÃ©gia de desconto em tempo de execuÃ§Ã£o.
                </li>
                <br>
                <li>
                    <strong>ğŸš€ Main.java:</strong><br>
                    Aqui fazemos testes prÃ¡ticos:<br>
                    1. Criamos um pedido com valor 100, usando `SemDesconto` como estratÃ©gia inicial.<br>
                    2. Imprimimos o valor (100, sem desconto).<br>
                    3. Depois mudamos a estratÃ©gia para `DescontoFixo(0.1)` â€” desconto de 10% â€” e mostramos o valor
                    (90).<br>
                    4. Por fim, trocamos para `DescontoFixo(0.25)` â€” desconto de 25% â€” e mostramdo (75).<br>
                    Observe que em nenhum momento usamos `if` ou `switch` para aplicar o desconto. O pedido delega tudo
                    Ã  estratÃ©gia escolhida.
                </li>
            </ul>

            <p><em>Resumo visual:</em></p>
            <ul>
                <li>Cliente (<code>Pedido</code>) â†’ invoca <code>getPrecoFinal()</code></li>
                <li>Pedido â†’ delega <code>calcular()</code> para a estratÃ©gia configurada</li>
                <li>EstratÃ©gia â†’ execuÃ§Ã£o especÃ­fica do cÃ¡lculo</li>
                <li>Podemos trocar estratÃ©gia durante a execuÃ§Ã£o com <code>setEstrategia(...)</code></li>
            </ul>
        </div>

        <h2>âœ… BenefÃ­cios do Strategy</h2>
        <div class="box">
            <ul>
                <li>ğŸ”„ CÃ³digo mais flexÃ­vel â€” estratÃ©gias podem ser alteradas em tempo de execuÃ§Ã£o</li>
                <li>ğŸ§© SegregaÃ§Ã£o de responsabilidades â€” cada cÃ¡lculo de desconto fica em sua classe</li>
                <li>ğŸ›  Facilita adicionar novas estratÃ©gias sem mexer no cÃ³digo existente (princÃ­pio Open/Closed)</li>
                <li>ğŸ” Evita estruturas condicionais pesadas</li>
            </ul>
        </div>

        <h2>âš ï¸ Cuidados</h2>
        <div class="box">
            <ul>
                <li>ğŸ“‚ Muitas classes se existirem muitas estratÃ©gias</li>
                <li>ğŸ§ª Teste bem as estratÃ©gias e as trocas em tempo de execuÃ§Ã£o</li>
                <li>âš ï¸ Certifique-se de que a interface das estratÃ©gias Ã© genÃ©rica e Ãºtil</li>
            </ul>
        </div>

        <h2>ğŸ“Œ ConclusÃ£o</h2>
        <div class="box">
            O padrÃ£o <strong>Strategy</strong> nos dÃ¡ uma forma elegante de selecionar algoritmos comportamentais
            dinamicamente.<br><br>
            No nosso exemplo de descontos, ele nos permite trocar a forma de cÃ¡lculo facilmente e com pouco acoplamento
            â€” ideal para sistemas que precisam ser expansÃ­veis e flexÃ­veis.
        </div>
    </main>

    <footer>
        <p>PadrÃµes de Projeto em Java â€¢ Strategy â€¢ 2025</p>
    </footer>
</body>

</html>