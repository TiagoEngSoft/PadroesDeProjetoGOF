<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <title>PadrÃ£o Flyweight â€” Emojis BalÃµes</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #fafafa;
            color: #333;
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }

        header {
            background: #009688;
            color: white;
            padding: 20px;
            text-align: center;
        }

        main {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }

        h2 {
            color: #009688;
            margin-top: 40px;
        }

        .box {
            background: #f1f1f1;
            border-left: 6px solid #009688;
            padding: 15px;
            margin: 20px 0;
        }

        pre {
            background: #272822;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 5px;
            overflow-x: auto;
        }

        code {
            font-family: monospace;
        }

        ul {
            padding-left: 20px;
        }

        footer {
            background: #eee;
            padding: 20px;
            text-align: center;
            margin-top: 40px;
        }
    </style>
</head>

<body>

    <header>
        <h1>ğŸˆ PadrÃ£o de Projeto: Flyweight</h1>
        <p>Economia de memÃ³ria reutilizando objetos parecidos</p>
    </header>

    <main>
        <h2>âœ… DefiniÃ§Ã£o formal do padrÃ£o Flyweight (GOF)</h2>
        <div class="box">
            <strong>Flyweight</strong> Ã© um padrÃ£o de projeto estrutural que permite o uso eficiente de objetos em
            grande quantidade, compartilhando partes comuns do estado entre eles.
        </div>

        <h2>ğŸ¤” O que Ã© o Flyweight de forma simples?</h2>
        <div class="box">
            Imagine que vocÃª precisa desenhar milhares de balÃµes ğŸˆ na tela. Criar um novo objeto para cada balÃ£o seria
            um desperdÃ­cio de memÃ³ria.<br><br>
            O padrÃ£o <strong>Flyweight</strong> permite <strong>reaproveitar objetos comuns</strong> (o "modelo" do
            balÃ£o) e sÃ³ variar o que Ã© realmente diferente, como a posiÃ§Ã£o ou cor.
        </div>

        <h2>ğŸ’¡ Nosso Exemplo: BalÃµes com Emojis</h2>
        <ul>
            <li><strong>EmojiBalao:</strong> Representa o objeto compartilhado (flyweight) ğŸˆ</li>
            <li><strong>EmojiFactory:</strong> Garante que nÃ£o criamos balÃµes repetidos â€” apenas 1 por cor</li>
            <li><strong>Main:</strong> Gera balÃµes em posiÃ§Ãµes aleatÃ³rias com reutilizaÃ§Ã£o</li>
        </ul>

        <h2>ğŸ“¦ Estrutura do Projeto</h2>
        <pre><code>
src/
â”œâ”€â”€ flyweight/
â”‚   â””â”€â”€ EmojiBalao.java
â”œâ”€â”€ factory/
â”‚   â””â”€â”€ EmojiFactory.java
â””â”€â”€ Main.java

        </code></pre>

        <h2>ğŸ§ª CÃ³digo Exemplo</h2>

        <h3>Classe EmojiBalao</h3>
        <pre><code>public class EmojiBalao {
    private final String emoji = "ğŸˆ";

    public void desenhar(int x, int y, String cor) {
        System.out.println("Desenhando balÃ£o " + emoji +
                           " na posiÃ§Ã£o (" + x + "," + y + ") com a cor " + cor);
    }
}</code></pre>

        <h3>FÃ¡brica EmojiFactory</h3>
        <pre><code>import java.util.HashMap;

public class EmojiFactory {
    private static final HashMap&lt;String, EmojiBalao&gt; cache = new HashMap<>();

    public static EmojiBalao getBalao(String cor) {
        EmojiBalao balao = cache.get(cor);
        if (balao == null) {
            balao = new EmojiBalao();
            cache.put(cor, balao);
            System.out.println("ğŸ¨ Criando novo objeto EmojiBalÃ£o para a cor: " + cor);
        }
        return balao;
    }
}</code></pre>

        <h3>Classe Main (Teste)</h3>
        <pre><code>public class Main {
    public static void main(String[] args) {
        String[] cores = { "vermelho", "azul", "verde" };

        for (int i = 0; i &lt; 10; i++) {
            String cor = cores[i % cores.length];
            int x = (int) (Math.random() * 100);
            int y = (int) (Math.random() * 100);

            EmojiBalao balao = EmojiFactory.getBalao(cor);
            balao.desenhar(x, y, cor);
        }
    }
}</code></pre>

        <h2>ğŸ§  Explicando o CÃ³digo Passo a Passo</h2>
        <div class="box">
            <ul>
                <li><strong>ğŸˆ EmojiBalao:</strong> Ã© o <strong>objeto compartilhado</strong>. Em vez de criar milhares
                    de balÃµes, usamos o mesmo para cada cor e apenas mudamos a posiÃ§Ã£o e cor ao desenhar.</li>

                <li><strong>ğŸ› ï¸ EmojiFactory:</strong> Ã© a fÃ¡brica que <strong>garante o reaproveitamento</strong> de
                    objetos. SÃ³ cria um EmojiBalao por cor. As prÃ³ximas chamadas reutilizam a mesma instÃ¢ncia.</li>

                <li><strong>ğŸ¯ Main:</strong> simula a criaÃ§Ã£o de 10 balÃµes. Em vez de criar 10 objetos, o programa
                    reutiliza o mesmo para cada cor â€” otimizando memÃ³ria e desempenho.</li>

                <li><strong>ğŸ’¡ Ponto chave:</strong> o Flyweight separa os dados:
                    <ul>
                        <li><strong>IntrÃ­nsecos (compartilhados):</strong> o emoji ğŸˆ</li>
                        <li><strong>ExtrÃ­nsecos (variÃ¡veis):</strong> cor, posiÃ§Ã£o</li>
                    </ul>
                </li>
            </ul>
        </div>

        <h2>âœ… BenefÃ­cios do Flyweight</h2>
        <div class="box">
            <ul>
                <li>ğŸš€ ReduÃ§Ã£o drÃ¡stica no consumo de memÃ³ria</li>
                <li>ğŸ” ReutilizaÃ§Ã£o de objetos com comportamento semelhante</li>
                <li>ğŸ“Š Ideal para quando hÃ¡ muitos objetos repetidos (como jogos, grÃ¡ficos, editores)</li>
                <li>ğŸ”„ SeparaÃ§Ã£o clara entre dados compartilhados e variÃ¡veis</li>
            </ul>
        </div>

        <h2>âš ï¸ Cuidados</h2>
        <div class="box">
            <ul>
                <li>âš ï¸ Gerenciar corretamente os dados extrÃ­nsecos (como posiÃ§Ã£o, estado, etc.)</li>
                <li>âš ï¸ Pode adicionar complexidade desnecessÃ¡ria em sistemas pequenos</li>
            </ul>
        </div>

        <h2>ğŸ“Œ ConclusÃ£o</h2>
        <div class="box">
            O padrÃ£o <strong>Flyweight</strong> ajuda a otimizar recursos em sistemas que precisam criar muitos objetos
            semelhantes.<br><br>
            Com ele, desenhar milhares de balÃµes ğŸˆ se torna leve e eficiente, pois compartilhamos o que Ã© comum e
            variamos apenas o necessÃ¡rio. Ã‰ uma forma inteligente de ganhar performance sem sacrificar organizaÃ§Ã£o.
        </div>
    </main>

    <footer>
        <p>PadrÃµes de Projeto em Java â€¢ Flyweight â€¢ 2025</p>
    </footer>
</body>

</html>